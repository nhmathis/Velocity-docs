<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="UrbanCode">
    <link rel="canonical" href="http://uc-doc-test.s3-website-us-east-1.amazonaws.com/deploy/701/com.ibm.udeploy.api.doc/topics/rest_cli_snapshot_createsnapshot_put/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Create a snapshot - UrbanCode Deploy</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Create a snapshot", url: "#_top", children: [
              {title: "Request", url: "#request" },
              {title: "Example", url: "#example" },
              {title: "Example JSON request", url: "#example-json-request" },
              {title: "Example JSON request", url: "#example-json-request_1" },
              {title: "Example response", url: "#example-response" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="create-a-snapshot">Create a snapshot</h1>
<p>This command creates a snapshot by specifying the components (optional) for the snapshot, rather than taking a snapshot of an environment.</p>
<h2 id="request">Request</h2>
<pre><code>PUT https://{hostname}:{port}
    /cli/snapshot/createSnapshot
Accept: application/json

</code></pre>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accept</td>
<td><code>application/json</code></td>
<td>true</td>
<td>Â </td>
</tr>
</tbody>
</table>
<p>This command takes a JSON request string or file. Use the following template for the request:</p>
<pre><code>{
  &quot;application&quot;: &quot;Application name or ID&quot;,
  &quot;description&quot;: &quot;Description&quot;,
  &quot;name&quot;: &quot;Snapshot name&quot;,
  &quot;versions&quot;: &quot;JSON array of mappings from components to 
  versions, such as [{\&quot;JPetStore-APP\&quot;: \&quot;latest\&quot;}, {\&quot;
  JPetStore-DB\&quot;: \&quot;1.0\&quot;}]&quot;
}

</code></pre>

<h2 id="example">Example</h2>
<pre><code>curl -k -u jsmith:passwd 

  &quot;https://myserver.example.com:8443/cli/snapshot/createSnapshot&quot;
  -X PUT -d @newSnapshot.json
</code></pre>

<h2 id="example-json-request">Example JSON request</h2>
<pre><code>{
  &quot;name&quot;: &quot;My snapshot&quot;,
  &quot;application&quot;: &quot;JPetStore&quot;,
  &quot;description&quot;: &quot;JPetStore snapshot&quot;,
  &quot;versions&quot;: [
    {&quot;JPetStore-APP&quot;: &quot;1.1&quot;}, 
    {&quot;JPetStore-DB&quot;: &quot;1.0&quot;}, 
    {&quot;JPetStore-WEB&quot;: &quot;1.1&quot;}
  ]
}
</code></pre>

<h2 id="example-json-request_1">Example JSON request</h2>
<p>You can also use the keywords <code>latest</code>, <code>latestVersion</code>, and <code>newest</code> in place of component version names. In this case, the process uses the most recently created component version. The following example shows how you can use these keywords in the JSON request.</p>
<pre><code>{
  &quot;name&quot;: &quot;My snapshot&quot;,
  &quot;application&quot;: &quot;JPetStore&quot;,
  &quot;description&quot;: &quot;Snapshots of most recently created component versions&quot;,
  &quot;versions&quot;: [
    {&quot;JPetStore-APP&quot;: &quot;latest&quot;}, 
    {&quot;JPetStore-DB&quot;: &quot;latestVersion&quot;}, 
    {&quot;JPetStore-WEB&quot;: &quot;newest&quot;}
  ]
}
</code></pre>

<h2 id="example-response">Example response</h2>
<pre><code>{
  &quot;id&quot;: &quot;ff9274d4-bc3d-493c-90aa-5020e2fda56d&quot;,
  &quot;name&quot;: &quot;My snapshot&quot;,
  &quot;description&quot;: &quot;JPetStore snapshot&quot;,
  &quot;created&quot;: 1391451659050,
  &quot;active&quot;: true,
  &quot;locked&quot;: false
}
</code></pre>

<p>Related CLI command: <a href="../udclient_createsnapshot/">createSnapshot</a>.</p>
<p><strong>Parent topic:</strong> <a href="../rest_cli_snapshot/">snapshot resource</a></p>

  <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/IBM-UrbanCode/edit/master/docs/com.ibm.udeploy.api.doc/topics/rest_cli_snapshot_createsnapshot_put.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>