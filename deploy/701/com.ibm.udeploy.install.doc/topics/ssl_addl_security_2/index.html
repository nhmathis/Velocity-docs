<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="UrbanCode">
    <link rel="canonical" href="http://uc-doc-test.s3-website-us-east-1.amazonaws.com/deploy/701/com.ibm.udeploy.install.doc/topics/ssl_addl_security_2/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Ensuring end-to-end JMS encryption - UrbanCode Deploy</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Ensuring end-to-end JMS encryption", url: "#_top", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="ensuring-end-to-end-jms-encryption">Ensuring end-to-end JMS encryption</h1>
<p>All JMS traffic between the JMS agent and the server is encrypted with Transport Layer Security (TLS). However, starting with version 6.2.2 of the HCL® UrbanCode™ Deploy, the server creates by default a unique key for JMS agents that connect to it and encrypts all JMS traffic to the agent with this key. This encryption ensures that instructions that are meant for an agent can't be read or used by another client on the JMS mesh.</p>
<p>Upgrade HCL UrbanCode Deploy to version 6.2.2 or later.</p>
<ol>
<li>Upgrade each agent to version 6.2.2 or later. Agents that are not being upgraded can communicate with the server during this process, so you can upgrade agents one at a time.</li>
<li>Set the system time on the server and the computers that agents are running on to times that are the same or within a few minutes of each other. The server and computers with agents do not have to be in the same time zone, but they must agree about the global time within approximately 5 minutes. </li>
<li>
<p>If it is not feasible to synchronize the system times or if you want to disable end-to-end JMS encryption, add the following line to agent's installed.properties file, and then restart the agent: </p>
<p><code>agent.jms.disable_full_encryption=true</code></p>
</li>
<li>
<p>In the server configuration file, set the property server.agentCommunicationAlwaysEncrypted to <code>true</code>. Now the server accepts connections only from JMS agents that are using a secure connection.</p>
</li>
</ol>
<p>You can view the API key of an agent by clicking <strong>Settings</strong> > <strong>Security</strong> > <strong>API Keys and Certificates</strong> on the server. If you suspect that a JMS agent was compromised, select the API key and then click <strong>Actions</strong> > <strong>Revoke</strong> to revoke the API Key and prevent the agent from connecting to the server.</p>
<p><strong>Parent topic:</strong> <a href="../../../com.ibm.udeploy.doc/topics/SSLinstall/">SSL configuration</a></p>

  <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/IBM-UrbanCode/edit/master/docs/com.ibm.udeploy.install.doc/topics/ssl_addl_security_2.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>