<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="UrbanCode">
    <link rel="canonical" href="http://uc-doc-test.s3-website-us-east-1.amazonaws.com/deploy/701/com.ibm.edt.api.doc/topics/rest_bpid_validate_put/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Validate a blueprint - UrbanCode Deploy</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Validate a blueprint", url: "#_top", children: [
              {title: "Request", url: "#request" },
              {title: "Example", url: "#example" },
              {title: "Example JSON request", url: "#example-json-request" },
              {title: "Example response", url: "#example-response" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="validate-a-blueprint">Validate a blueprint</h1>
<p>This command validates a blueprint with the parameters in a JSON string to ensure that the blueprint will deploy correctly.</p>
<h2 id="request">Request</h2>
<pre><code>PUT http://{hostname}:{port}
  /landscaper/rest/blueprint/{blueprintId}/validate
Accept: application/json
Content-Type: application/json
Location: {blueprintLocation}

</code></pre>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>blueprintId</td>
<td>string</td>
<td>true</td>
<td>The name or ID of the blueprint. The command assumes that the blueprint is in the default repository and that the file has the name of the parameter value with the extension .yml. If the Location header is specified, this parameter is ignored.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
<td>true</td>
<td> </td>
</tr>
<tr>
<td>Accept</td>
<td><code>application/json</code></td>
<td>true</td>
<td> </td>
</tr>
<tr>
<td>Location</td>
<td>string</td>
<td>false</td>
<td>The full location of the blueprint, such as <code>/landscaper/orion/file/jsmith_8a6bfff7_2c77_45db_a235_adda61ad6653-OrionContent/myTeam/myBlueprint/myBlueprint.yml</code>. If you specify the location in this header, the value of the {blueprintId} URL parameter is ignored. If you do not specify the location in this header, the value of the {blueprintId} URL parameter is used instead. In this case, the command assumes that the blueprint is in the default repository and that the name of the blueprint is the {blueprintId} URL parameter plus the extension .yml.</td>
</tr>
<tr>
<td>X-Region-Name</td>
<td>string</td>
<td>false</td>
<td>The cloud region</td>
</tr>
</tbody>
</table>
<p>This command takes a JSON request string or file. Use the following template for the request:</p>
<pre><code>{
  &quot;configuration&quot;: &quot;Configuration file name (Optional)&quot;,
  &quot;configurationLocation&quot;: &quot;Configuration file location 
  (Optional)&quot;,
  &quot;environmentId&quot;: &quot;The ID for the environment&quot;,
  &quot;environmentName&quot;: &quot;Environment name&quot;,
  &quot;parameters&quot;: {&quot;parameter name&quot;: &quot;parameter value 
  (Optional - repeat as necessary)&quot;}
}

</code></pre>

<h2 id="example">Example</h2>
<pre><code>curl -u jsmith:passwd 
   -H 'Content-Type: application/json'
  -H &quot;Accept: application/json&quot;
  -H &quot;X-Region-Name: us-east&quot;
  -H &quot;Location: /landscaper/orion/file/jsmith_8a6bfff7_2c77_45db_a235_adda61ad6653-OrionContent/myTeam/myBlueprint/myBlueprint.yml&quot;
  -d @validateBlueprint.json
  -X PUT
  http://myserver.example.com:8080/landscaper/rest/blueprint/MyBlueprint/
  validate
</code></pre>

<h2 id="example-json-request">Example JSON request</h2>
<pre><code>{
  &quot;configuration&quot;: &quot;myConfigFile&quot;,
  &quot;configurationLocation&quot;:
    &quot;/landscaper/orion/file/jsmith_00000000_0000_0000_0000_000000000002-
    OrionContent/Internal-Team/configurations/myConfigFile.yml&quot;,
  &quot;environmentName&quot;: &quot;MyNewEnvironment&quot;,
  &quot;environmentId&quot;: &quot;MyNewEnvironment&quot;,
  &quot;parameters&quot;: {
    &quot;key_name&quot;:&quot;myKey&quot;,
    &quot;flavor&quot;: &quot;m1.medium&quot;
  }
}

</code></pre>

<h2 id="example-response">Example response</h2>
<p><strong>Note:</strong> If the command returns only a response code of 200 and no JSON, the blueprint and configuration file validated successfully. The following response shows an error that means that a required parameter was not specified.</p>
<pre><code>[
    {
        &quot;config_file&quot;: &quot;MyConfigOpenStack&quot;,
        &quot;errorMessage&quot;: &quot;Key Pair (TODO) does not exist.&quot;,
        &quot;errorType&quot;: &quot;error&quot;,
        &quot;object&quot;: {
            &quot;parameters&quot;: {
                &quot;key_name&quot;: &quot;TODO&quot;
            }
        },
        &quot;source&quot;: &quot;configuration&quot;
    }
]
</code></pre>

<p><strong>Parent topic:</strong> <a href="../rest_blueprint_/">rest/blueprint resource</a></p>

  <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/IBM-UrbanCode/edit/master/docs/com.ibm.edt.api.doc/topics/rest_bpid_validate_put.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>