<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="UrbanCode">
    <link rel="canonical" href="http://uc-doc-test.s3-website-us-east-1.amazonaws.com/deploy/701/com.ibm.edt.doc/topics/cloud_connect_vmware_images/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Configuring VMware vCenter images - UrbanCode Deploy</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Configuring VMware vCenter images", url: "#_top", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="configuring-vmware-vcenter-images">Configuring VMware vCenter images</h1>
<p>Before you can use VMware vCenter images with the blueprint designer, you must install VMware Tools and a virtual CD-ROM drive on those images.To configure images that are compatible with Chef roles, see <a href="../cloud_connect_vmware_images_chef/">Configuring VMware vCenter images for Chef roles</a>.</p>
<ol>
<li>Install VMware Tools on the image and create a customization specification for it.See the VMware documentation.</li>
<li>
<p>On a Linux™ image, enable password access through SSH for the root user: </p>
<ol>
<li>Open the file /etc/cloud/cloud.cfg in a text editor. </li>
<li>Remove any lines of code that begin with <code>disable_root</code>. </li>
<li>
<p>Add the following line of code: </p>
<p><code>disable_root: 0</code></p>
</li>
<li>
<p>Save your changes to the file. </p>
</li>
<li>On a Linux image, enable sudo access for a different user name.By default, the blueprint designer accesses vCenter virtual images by using the root password. To use a different user name, you must enable sudo access for it and disable password access for users in the sudo user group.</li>
<li>Create the user name and enable sudo access for it.For example, see <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/2/html/Getting_Started_Guide/ch02s03.html">Configuring sudo Access</a>.</li>
<li>From the command line, open the sudo configuration file that is located at /etc/sudoers by running this command: <code>visudo</code>.</li>
<li>
<p>In the file, add the following line of code to disable password access for users in the sudo user group: </p>
<p><code>%sudo ALL=(ALL) NOPASSWD:ALL</code></p>
</li>
<li>
<p>Save your changes to the file.</p>
</li>
<li>On a Windows™ image, create an initial user name and password for the image.See the VMware documentation.</li>
<li>Open ports that are required to communicate with your HCL® UrbanCode™ Deploy server.By default, open ports 8080 and 8843 to communicate with the server and port 7918 to allow the agent that the blueprint designer installs to communicate with the server. See <a href="../../../com.ibm.udeploy.install.doc/topics/agent_firewalls/">Firewall and communication configuration</a>.</li>
<li>Install a virtual CD-ROM drive on your image. See <a href="https://pubs.vmware.com/vsphere-4-esx-vcenter/index.jsp?topic=/com.vmware.vsphere.vmadmin.doc_41/vsp_vm_guide/configuring_virtual_machines/t_add_a_dvd_cd-rom_drive_to_a_virtual_machine.html">Add a DVD or CD-ROM Drive to a Virtual Machine</a>.</li>
<li>Capture the image as a template for the cloud system: </li>
<li>
<p>Shut down the image. For example, on a Linux image, run the following command:</p>
<p><code>shutdown -h now</code></p>
</li>
<li>
<p>From the VMware vSphere Web Client, find your instance. </p>
</li>
<li>Right-click the instance and then click <strong>Clone to Template</strong> and follow the steps to create a template from your image. </li>
</ol>
</li>
</ol>
<p>You can use the image with the blueprint designer. See <a href="../blueprint_edit_vc/">Modeling environments for VMware vCenter</a>.</p>
<p><strong>Parent topic:</strong> <a href="../cloud_connect_vmware/">Connecting to VMware vCenter v5.5 to 6.0</a></p>

  <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/IBM-UrbanCode/edit/master/docs/com.ibm.edt.doc/topics/cloud_connect_vmware_images.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>